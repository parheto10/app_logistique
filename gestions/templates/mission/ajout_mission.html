{% extends 'base.html' %}
{% load widget_tweaks %}

{% block breadcumbs %}
    <div class="page-breadcrumb">
          <div class="row">
            <div class="col-12 d-flex no-block align-items-center">
              <h4 class="page-title">ENREGISTRER UNE MISSION</h4>
            </div>
          </div>
        </div>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
       <div class="col-12"> 
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-6">
                      <div class="card">
                        <form class="form-horizontal" action="" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                          <div class="card-body">
                            <h4 class="card-title mb-4" style="text-align: center;">FORMULAIRE ORDRE DE MISSION</h4>
                            <div class="form-group row">
                                <label
                                  for="cono1"
                                  class="col-sm-3 text-end control-label col-form-label"
                                  >Projet</label
                                >
                                <div class="col-sm-9">
                                  <select class="select2 form-select shadow-none" name="projet" style="width: 100%; height: 36px" required>
                                    <option value="">-----</option>
                                    {% for projet in projets %}
                                          <option value="{{projet.id}}"> {{projet.sigle}}</option>
                                      {% endfor %}
                                  </select>
                                </div>
                              </div>
                            <div class="form-group row">
                              <label
                                for="fname"
                                class="col-sm-3 text-end control-label col-form-label"
                                >Objet</label
                              >
                              <div class="col-sm-9">
                                <input type="text" name="objet" class="form-control" required>
                              </div>
                            </div>
                            <div class="form-group row">
                              <label
                                for="lname"
                                class="col-sm-3 text-end control-label col-form-label"
                                >Date de départ</label
                              >
                              <div class="col-sm-9">
                                <input type="date" name="date_depart" class="form-control" required>
                              </div>
                            </div>
                            <div class="form-group row">
                              <label
                                for="lname"
                                class="col-sm-3 text-end control-label col-form-label"
                                >Date de retour</label
                              >
                              <div class="col-sm-9">
                                <input type="date" name="date_retour" class="form-control" required>
                              </div>
                            </div>
                            <div class="form-group row">
                              <label
                                for="cono1"
                                class="col-sm-3 text-end control-label col-form-label"
                                >Localité</label
                              >
                              <div class="col-sm-9">
                                <input type="text" name="localite" class="form-control" required>
                              </div>
                            </div>
                            <div class="form-group row">
                              <label
                                for="cono1"
                                class="col-sm-3 text-end control-label col-form-label"
                                >Ordre donner à</label
                              >
                              <div class="col-sm-9">
                                <select class="select2 form-select shadow-none" name="employe" style="width: 100%; height: 36px" required>
                                    <option value="">-----</option>
                                    {% for employe in employes %}
                                        <option value="{{employe.id}}"> {{employe.nom}} {{employe.prenom}} </option>
                                    {% endfor %}
                                </select>
                              </div>
                            </div>
                            <div class="form-group row">
                                <label
                                  for="cono1"
                                  class="col-sm-3 text-end control-label col-form-label"
                                  >Moyen de transport</label
                                >
                                <div class="col-sm-9">
                                  <select class="select2 form-select shadow-none" onchange="MoyenOfChange(this.options[this.selectedIndex].value)" name="moyen" id="moyen" style="width: 100%; height: 36px" required>                                    
                                    <option value="">-----</option>
                                    <option value="OUI"> VEHICULE DE SERVICE </option>                                   
                                        <option value="NON"> VEHICULE DE LOCATION </option>                                   
                                  </select>
                                </div>
                            </div>

                            <div id="louer" style="display: none;">
                                <div class="form-group row">
                                    <label
                                      for="cono1" class="col-sm-3 text-end control-label col-form-label"
                                      >Concessionnaire</label>
                                    <div class="col-sm-9">
                                      <input type="text" name="concessionnaire" class="form-control">
                                    </div>
                                  </div>
                                  <div class="form-group row">
                                    <label
                                      for="cono1" class="col-sm-3 text-end control-label col-form-label"
                                      >Matricule du vehicule</label>
                                    <div class="col-sm-9">
                                      <input type="text" name="matriculeLouer" class="form-control">
                                    </div>
                                  </div>
                            </div>

                            <div id="service" style="display: none;">
                                <div class="form-group row">
                                    <label
                                      for="cono1" class="col-sm-3 text-end control-label col-form-label"
                                      >Lieu de depart</label>
                                    <div class="col-sm-9">
                                      <input type="text" name="depart" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label
                                      for="cono1" class="col-sm-3 text-end control-label col-form-label"
                                      >Destination</label>
                                    <div class="col-sm-9">
                                      <input type="text" name="destination" class="form-control">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label
                                      for="cono1"
                                      class="col-sm-3 text-end control-label col-form-label"
                                      >Chauffeur</label
                                    >
                                    <div class="col-sm-9">
                                      <select class="select2 form-select shadow-none" name="chauffeur" style="width: 100%; height: 36px">
                                        <option value="">-----</option>
                                        {% for employe in employes %}
                                              <option value="{{employe.id}}"> {{employe.nom}} {{employe.prenom}} </option>
                                          {% endfor %}
                                      </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label
                                      for="cono1"
                                      class="col-sm-3 text-end control-label col-form-label"
                                      >Véhicule</label
                                    >
                                    <div class="col-sm-9">
                                      <select class="select2 form-select shadow-none" name="vehicule" style="width: 100%; height: 36px" >
                                        <option value="">-----</option>
                                          {% for vehicule in vehicules %}
                                              <option value="{{vehicule.id}}"> {{vehicule.matricule}} </option>
                                          {% endfor %}
                                      </select>
                                    </div>
                                </div>


                            </div>

                          </div>
                        
                      
                    
                    <div class="border-top">
                        <div class="card-body">
                          <button type="submit" class="btn btn-primary form-control">
                            Valider
                          </button>
                        </div>
                    </div>
                </form>
            </div> 
                </div>
                <div class="col-md-3"></div>
            </div>
        </div>
        </div>
    </div>
</div>
</div>

{% endblock %}
